<!-- main index page showing all books -->
<div class="d-flex justify-content-center mt-4">
  <div class="text-center" style="max-width: 800px; width: 100%;">
    <h1 class="mb-4">My Book Catalog</h1>

    <!-- Filter Form -->
    <%= form_with(url: books_path, method: :get, class: "mb-4") do |form| %>
      <div class="row">
        <div class="col">
          <%= form.text_field :title, placeholder: "Title", class: "form-control", value: params[:title] %>
        </div>
        <div class="col">
          <%= form.text_field :author, placeholder: "Author", class: "form-control", value: params[:author] %>
        </div>
        <div class="col">
          <%= form.text_field :genre, placeholder: "Genre", class: "form-control", value: params[:genre] %>
        </div>
        <div class="col-auto">
          <%= form.submit "Filter", class: "btn btn-primary" %>
        </div>
      </div>
    <% end %>

    <!-- button to add a new book -->
    <%= link_to "âž• Add New Book", new_book_path, class: "btn btn-primary mb-4" %>

    <!-- books table -->
    <table class="table table-bordered table-hover text-start">
      <thead class="table-light">
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Genre</th>
          <th>Published On</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @books.each do |book| %>
          <tr>
            <td><%= book.title %></td>
            <td><%= book.author %></td>
            <td><%= book.genre %></td>
            <td><%= book.published_on.strftime("%B %d, %Y") %></td>
            <td class="text-center">
              <%= link_to "View", book_path(book), class: "btn btn-secondary btn-sm" %>
              <%= link_to "Edit", edit_book_path(book), class: "btn btn-outline-primary btn-sm" %>
              <%= button_to "Delete", book_path(book), method: :delete,
                            data: { confirm: "Are you sure you want to delete this book?" },
                            class: "btn btn-outline-danger btn-sm d-inline-block" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <!-- Pagination -->
    <div class="d-flex justify-content-center mt-4">
      <%= paginate @books %>
    </div>
  </div>
</div>
